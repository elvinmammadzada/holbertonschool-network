#!usr/bin/env bash
# File: 0-change_your_home_IP
# Description: Change localhost IP to 127.0.0.2 or revert to 127.0.0.1

HOSTS_FILE="/etc/hosts"
TARGET_IP="127.0.0.2"
DEFAULT_IP="127.0.0.1"
HOSTNAME="localhost"

# Funksiya: cari IP-ni yoxlayır
current_ip=$(grep -w "$HOSTNAME" $HOSTS_FILE | awk '{print $1}')

if [ "$current_ip" == "$DEFAULT_IP" ]; then
    # 127.0.0.1-dən 127.0.0.2-yə dəyiş
    echo "Changing $HOSTNAME IP from $DEFAULT_IP to $TARGET_IP..."
    sudo sed -i "s/$DEFAULT_IP/$TARGET_IP/" $HOSTS_FILE
elif [ "$current_ip" == "$TARGET_IP" ]; then
    # 127.0.0.2-dən geri 127.0.0.1-ə qaytar
    echo "Reverting $HOSTNAME IP from $TARGET_IP to $DEFAULT_IP..."
    sudo sed -i "s/$TARGET_IP/$DEFAULT_IP/" $HOSTS_FILE
else
    echo "Current $HOSTNAME IP is $current_ip, not changing."
fi

